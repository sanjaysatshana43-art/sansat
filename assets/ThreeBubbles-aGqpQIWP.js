import{r as f,j as G}from"./index-Cgxe5WOF.js";import{S as U,P as V,W as k,A as B,D as N,a as J,b as K,M as Q,I as Z,O as _,C as $,V as F}from"./three-CRGMWF9X.js";import"./vendor-Dh3zDKDA.js";import"./animations-oQXWb4Lk.js";function ie(){const g=f.useRef(null),s=f.useRef(null);return f.useEffect(()=>{const e=g.current;if(!e)return;const o={particleCount:80,colors:[12852794,16739210,9109504,15087942],floatSpeed:.008,wobbleSpeed:.8,repulsionRadius:5,repulsionStrength:.25,mouseSmoothing:.15},c=new U;c.background=null;const l=new V(50,e.clientWidth/e.clientHeight,.1,100);l.position.set(0,0,15);const r=new k({antialias:!0,alpha:!0});r.setSize(e.clientWidth,e.clientHeight),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.appendChild(r.domElement);const O=new B(16777215,.4);c.add(O);const x=new N(16777215,1);x.position.set(5,10,7),c.add(x);const y=new J(16739210,.8,20);y.position.set(0,0,5),c.add(y);const S=new K(.12,16,16),E=new Q({color:16777215,metalness:.1,roughness:.2,transmission:.1,transparent:!0,opacity:.9,clearcoat:1,clearcoatRoughness:.1}),h=new Z(S,E,o.particleCount);c.add(h);const d=new _,L=[],w=new F(-100,-100),a=new F(-100,-100);let u=!1;for(let t=0;t<o.particleCount;t++){const i={x:(Math.random()-.5)*30,y:(Math.random()-.5)*30,z:(Math.random()-.5)*10-2,vy:o.floatSpeed*(.8+Math.random()*.4),vx:0,vz:0,phase:Math.random()*Math.PI*2,wobbleAmp:.005+Math.random()*.01,baseScale:.5+Math.random()*1,colorHex:o.colors[Math.floor(Math.random()*o.colors.length)]};L.push(i);const m=new $(i.colorHex);h.setColorAt(t,m)}h.instanceColor.needsUpdate=!0;let R=0;const v=()=>{s.current=requestAnimationFrame(v),R+=o.wobbleSpeed*.01;const t=u?o.mouseSmoothing:.05;w.lerp(a,t);const i=e.clientWidth/e.clientHeight,m=2*Math.tan(l.fov*Math.PI/180/2)*l.position.z,X=m*i,Y=w.x*X/2,q=w.y*m/2;for(let p=0;p<o.particleCount;p++){const n=L[p];n.y+=n.vy,n.x+=Math.sin(R+n.phase)*n.wobbleAmp,n.y>10&&(n.y=-10,n.x=(Math.random()-.5)*30);const b=n.x-Y,M=n.y-q,A=b*b+M*M;if(A<o.repulsionRadius*o.repulsionRadius){const D=Math.sqrt(A),P=Math.pow((o.repulsionRadius-D)/o.repulsionRadius,1.5),j=Math.atan2(M,b);n.x+=Math.cos(j)*P*o.repulsionStrength,n.y+=Math.sin(j)*P*o.repulsionStrength}d.position.set(n.x,n.y,n.z),d.rotation.x+=.002,d.rotation.y+=.002,d.scale.setScalar(n.baseScale),d.updateMatrix(),h.setMatrixAt(p,d.matrix)}h.instanceMatrix.needsUpdate=!0,r.render(c,l)};v();const C=()=>{e&&(l.aspect=e.clientWidth/e.clientHeight,l.updateProjectionMatrix(),r.setSize(e.clientWidth,e.clientHeight))},I=t=>{u=!0,a.x=t.clientX/window.innerWidth*2-1,a.y=-(t.clientY/window.innerHeight)*2+1,clearTimeout(window.bubbleInteractionTimeout),window.bubbleInteractionTimeout=setTimeout(()=>{u=!1},500)},T=t=>{if(u=!0,t.touches.length>0){const i=t.touches[0];a.x=i.clientX/window.innerWidth*2-1,a.y=-(i.clientY/window.innerHeight)*2+1}},H=t=>{if(u=!0,t.touches.length>0){const i=t.touches[0];a.x=i.clientX/window.innerWidth*2-1,a.y=-(i.clientY/window.innerHeight)*2+1}},W=()=>{setTimeout(()=>{u=!1},300)};window.addEventListener("resize",C),document.addEventListener("mousemove",I),e.addEventListener("touchstart",T,{passive:!0}),e.addEventListener("touchmove",H,{passive:!0}),e.addEventListener("touchend",W,{passive:!0});const z=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting?s.current||v():s.current&&(cancelAnimationFrame(s.current),s.current=null)})},{threshold:.1});return z.observe(e),()=>{window.removeEventListener("resize",C),document.removeEventListener("mousemove",I),e.removeEventListener("touchstart",T),e.removeEventListener("touchmove",H),e.removeEventListener("touchend",W),z.disconnect(),s.current&&cancelAnimationFrame(s.current),window.bubbleInteractionTimeout&&clearTimeout(window.bubbleInteractionTimeout),r.dispose(),S.dispose(),E.dispose(),e.removeChild(r.domElement)}},[]),G.jsx("div",{id:"wave-canvas-container",ref:g})}export{ie as default};
